<div class="max-w-2xl p-8 mx-auto bg-white rounded-lg shadow-md">
  <h2 class="mb-6 text-2xl font-semibold text-gray-800">
    Add New Business Card
  </h2>

  <form [formGroup]="businessCardForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="mb-4">
      <label for="name" class="block mb-2 text-sm font-medium text-gray-600"
        >Full Name</label
      >
      <input
        id="name"
        type="text"
        formControlName="name"
        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [ngClass]="{ 'border-red-500': f['name'].touched && f['name'].invalid }"
      />
      <div
        *ngIf="f['name'].touched && f['name'].invalid"
        class="mt-1 text-xs text-red-600"
      >
        <span *ngIf="f['name'].errors?.['required']">Name is required.</span>
        <span *ngIf="f['name'].errors?.['maxlength']"
          >Name must not exceed 100 characters.</span
        >
      </div>
    </div>

    <div class="mb-4">
      <label for="email" class="block mb-2 text-sm font-medium text-gray-600"
        >Email</label
      >
      <input
        id="email"
        type="email"
        formControlName="email"
        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [ngClass]="{
          'border-red-500': f['email'].touched && f['email'].invalid
        }"
      />
      <div
        *ngIf="f['email'].touched && f['email'].invalid"
        class="mt-1 text-xs text-red-600"
      >
        <span *ngIf="f['email'].errors?.['required']">Email is required.</span>
        <span *ngIf="f['email'].errors?.['email']"
          >Please enter a valid email.</span
        >
      </div>
    </div>

    <div class="mb-4">
      <label for="phone" class="block mb-2 text-sm font-medium text-gray-600"
        >Phone</label
      >
      <input
        id="phone"
        type="tel"
        formControlName="phone"
        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        [ngClass]="{
          'border-red-500': f['phone'].touched && f['phone'].invalid
        }"
      />
      <div
        *ngIf="f['phone'].touched && f['phone'].invalid"
        class="mt-1 text-xs text-red-600"
      >
        <span *ngIf="f['phone'].errors?.['required']"
          >Phone number is required.</span
        >
      </div>
    </div>

    <div class="flex flex-col mb-4 md:flex-row md:space-x-4">
      <div class="flex-1">
        <label
          for="dateOfBirth"
          class="block mb-2 text-sm font-medium text-gray-600"
          >Date of Birth</label
        >
        <input
          id="dateOfBirth"
          type="date"
          formControlName="dateOfBirth"
          class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          [ngClass]="{
            'border-red-500':
              f['dateOfBirth'].touched && f['dateOfBirth'].invalid
          }"
        />
        <div
          *ngIf="f['dateOfBirth'].touched && f['dateOfBirth'].invalid"
          class="mt-1 text-xs text-red-600"
        >
          <span *ngIf="f['dateOfBirth'].errors?.['required']"
            >Date of Birth is required.</span
          >
        </div>
      </div>
      <div class="flex-1 mt-4 md:mt-0">
        <label for="gender" class="block mb-2 text-sm font-medium text-gray-600"
          >Gender</label
        >
        <select
          id="gender"
          formControlName="gender"
          class="w-full px-3 py-2 border rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
          [ngClass]="{
            'border-red-500': f['gender'].touched && f['gender'].invalid
          }"
        >
          <option>Male</option>
          <option>Female</option>
        </select>
        <div
          *ngIf="f['gender'].touched && f['gender'].invalid"
          class="mt-1 text-xs text-red-600"
        >
          <span *ngIf="f['gender'].errors?.['required']"
            >Gender is required.</span
          >
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="address" class="block mb-2 text-sm font-medium text-gray-600"
        >Address (Optional)</label
      >
      <textarea
        id="address"
        rows="3"
        formControlName="address"
        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      ></textarea>
    </div>

    <div class="mb-6">
      <label class="block mb-2 text-sm font-medium text-gray-600"
        >Photo (Optional, max 1MB)</label
      >
      <input
        type="file"
        (change)="onFileChange($event)"
        accept="image/png, image/jpeg"
        class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
      />
      <div *ngIf="photoPreview" class="mt-4">
        <img
          [src]="photoPreview"
          class="object-cover w-32 h-32 rounded-md shadow-sm"
          alt="Photo Preview"
        />
      </div>
    </div>

    <div class="text-right">
      <button
        type="submit"
        [disabled]="businessCardForm.invalid"
        class="px-6 py-2 font-medium text-white bg-blue-600 rounded-md shadow-sm disabled:bg-gray-400 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
      >
        Create Card
      </button>
    </div>
  </form>
</div>
